# 컴퓨터 구조  
  
## 4장 제어 유니트
  
### 제어 유니트의 기능
>#### 기능  
>   - 명령어 코드의 해독
>   - 명령어 실행에 필요한 제어신호 발생  
>#### 마이크로 명령어  
>   : 각 주기에서 실행되는 각 마이크로-연산을 지정해주는 2진 비트 &rarr; 제어 단어라고도 함  
>#### 마이크로프로그램  
>   : 마이크로 명령어들의 집합  
>#### 루틴
>   : CPU의 특정 기능을 수행하기 위한 마이크로명령어들의 그룹

### 제어 유니트의 구조
>#### 명령어 해독기  
>   : 명령어 레지스터로부터 들어오는 명령어의 연산 코드를 해독하여 루틴의 시작 주소 결정  
>#### 제어주소 레지스터(CAR)  
>   : 다음에 실행할 마이크로명령어의 주소를 저장하는 레지스터  
>#### 제어 기억장치  
>   : 마이크로프로그램을 저장하는 내부 기억장치  
>#### 제어 버퍼 레지스터(CBR)  
>   : 기억장치로부터 읽혀진 마이크로명령어 비트들을 일시적으로 저장하는 레지스터  
>#### 서브루틴 레지스터(SBR)  
>   : 마이크로프로그램에서 서브루틴이 호출되는 경우, 현재의 제어 주소 레지스터 내용을 일시적으로 저장하는 레지스터  
>#### 순서제어 모듈  
>   : 마이크로명령어의 실행 순서를 결정하는 회로들의 집합

### CPU의 명령어 세트 설계 및 구현 과정
>   1. 명령어들의 종류 및 비트 패턴 정의
>   2. 명령어들의 실행에 필요한 하드웨어 설계
>   3. 각 명령어를 위한 실행 사이클 루틴 작성
>   4. 마이크로프로그램 코드들을 제어 기억장치에 저장

### 제어 기억장치의 내부 구성
>- 마이크로프로그램 루틴들을 제어 기억장치에 저장한 예  
><img src="../images/Control memory internal configuration.png" width="80%" height="80%"/>

### 명령어 해독 과정
>#### 명령어 해독  
>   : 명령어의 연산 코드가 지정하는 연산을 위한 실행 사이클 루틴의 시작 주소를 결정하는 동작  
>#### 사상(mapping)을 이용한 방법  
>   : 명령어의 연산코드를 특정 패턴과 조합하여 실행 사이클 루틴 주소 찾아내는 방법  
>   <img src="../images/mapping method.png"/>  

### 마이크로명령어의 형식
>- 연산 필드가 두 개이면, 두 개의 마이크로-연산을 동시에 수행 가능
>- 조건 필드는 분기에 사용될 조건 플래그를 지정
>- 분기 필드는 분기의 종류와 다음에 실행할 마이크로 명령어의 주소를 결정하는 방법을 명시
>- 주소 필드의 내용은 분기가 발생하는 경우에 목적지 마이크로명령어의 주소로 사용
><img src="../images/micro instruction form.png"/>  
